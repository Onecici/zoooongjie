<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="./myFn.js"></script>
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        .box {
            width: 50px;
            height: 100px;
            background-color: black;
        }
    </style>
</head>

<body>
    <div class="box">动画</div>
    <script>
        /*
        requestAnimationFrame是一个用于优化动画效果的JavaScript API。
        它可以在浏览器的下一帧动画之前执行指定的回调函数，并且在浏览器当前页面时才会调用，可以有效地减少浏览器的负载，提高动画的平滑度和性能。
        */

        let box = document.querySelector('.box')
        let curWidth = box.getBoundingClientRect().width
        let maxWidth = 500
        function animate() {
            curWidth += 1 // requestAnimationFrame这个api会根据当前你每次宽度变化量来决定动画的执行中的速度
            box.style.width = curWidth + 'px'
            if (curWidth < maxWidth) {
                requestAnimationFrame(animate)
            }
        }
        animate()
    </script>
</body>

</html>